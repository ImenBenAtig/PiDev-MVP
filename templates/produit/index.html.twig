{% extends 'Back/base.html.twig' %}


{% block body %}
<br>
	<div class="container"><br><br>
		<h2 class="text-center mt-5 mb-3">GameGalaxy Manager de Produit</h2>

		<div class="card">
			<div class="card-header">
				<a class="btn btn-outline-primary" href="{{ path('app_produit_new') }}">
					Ajouter noveau produit
				</a>
				 <a class="btn btn-outline-primary" href="{{ path('app_produit_tri_par_nom') }}"> Trier par nom</a>
			</div>
			<div class="container m-20">
				<div class="card-body">

					<table class="table table-bordered">
						<thead>
							<tr>
								<th>Id</th>
								<th>Nom Produit</th>
								<th>Prix</th>
								<th>Description</th>
								<th>Stock</th>
								<th>Categorie</th>
								<th>Rating</th>
								<th>Image</th>
							</tr>
						</thead>
						<tbody>
							{% for produit in produits %}
								<tr>
									<td>{{ produit.id }}</td>
									<td>{{ produit.nomProduit }}</td>
									<td>{{ produit.prix }}</td>
									<td>{{ produit.description }}</td>
									<td>{{ produit.stock }}</td>
									<td>{{ produit.getIdCategorie }}</td>
									<td>{{ produit.rating }}</td>

									<td><img  src="{{asset('uploads/produits/'~ produit.img)}}" alt="photo" width="300" height="200"></td>

									<td>
											<a class="btn btn-success" href="{{ path('app_produit_show', {'id': produit.id}) }}"><i class="bi bi-display"></i></a>
											<a class="btn btn-info" href="{{ path('app_produit_edit', {'id': produit.id}) }}"><i class="bi bi-pencil-square"></i></a>
											    {{ include('produit/_delete_form.html.twig') }}
											<a class="btn btn-warning" href="{{ path('cart_add', {'id': produit.id}) }}"><i class="bi bi-display"></i></a>

										</form>
									</td>
								</tr>

							{% endfor %}

						</tbody>
					</table>
				</div>
			</div>

		</div>
	{% endblock %}
